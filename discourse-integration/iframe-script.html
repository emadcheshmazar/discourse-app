<!-- اسکریپت iframe برای Discourse -->
<!-- قرار دادن در common/body.html یا Theme Component → Body (bottom) -->

<script type="text/javascript">
  (function () {
    // مسیر صفحه‌ای که می‌خوای اپ توش نمایش داده بشه:
    const APP_PATH = "/my-react-page";
    const GITHUB_PAGES_URL =
      "https://emadcheshmazar.github.io/discourse-landing-build/";

    if (window.location.pathname === APP_PATH) {
      // حذف محتوا و نمایش iframe به صورت full width/height:
      document.documentElement.style.overflow = "hidden";
      document.body.style.margin = "0";
      document.body.style.padding = "0";
      document.body.style.minHeight = "100vh";

      const iframe = document.createElement("iframe");
      iframe.src = GITHUB_PAGES_URL;
      iframe.style.width = "100%";
      iframe.style.height = "100vh";
      iframe.style.border = "0";
      iframe.style.display = "block";
      iframe.id = "react-landing-iframe";
      iframe.setAttribute("frameborder", "0");
      iframe.setAttribute("scrolling", "auto");

      // wrapper برای کنترل استایل
      const wrapper = document.createElement("div");
      wrapper.style.width = "100%";
      wrapper.style.height = "100vh";
      wrapper.style.margin = "0";
      wrapper.style.padding = "0";
      wrapper.style.position = "fixed";
      wrapper.style.top = "0";
      wrapper.style.left = "0";
      wrapper.style.zIndex = "9999";
      wrapper.appendChild(iframe);

      // پاک کردن بقیه محتویات صفحه
      document.body.innerHTML = "";
      document.body.appendChild(wrapper);

      // اضافه کردن CSS برای اطمینان از نمایش صحیح
      const style = document.createElement("style");
      style.textContent = `
        body { margin: 0 !important; padding: 0 !important; }
        #main { display: none !important; }
        .d-header { display: none !important; }
        .d-footer { display: none !important; }
      `;
      document.head.appendChild(style);
    }
  })();
</script>
